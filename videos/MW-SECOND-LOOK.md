# 云固件再探

## 开篇

大家好，我是陆伟峰。在上期的视频《云固件初探》里面演示了云固件及三个不同的系统环境，也留下了一个挑战：“我就只用一个Windows10，我搞云固件有用吗？”

本期的视频标题是《云固件再探》，一起来探讨云固件在单系统环境上的用途。

## 主角

今天的主角是另外一台Intel NUC，豆子峡谷，8代酷睿i7-8559U型号CPU，就是我手里这台0.6升体积的小机器。
废话不多说，咱们开机来看看我给大家准备了啥菜。

## 主界面

打开豆子峡谷后，立马就进入到了云固件的主界面。
今天的主界面有点花，菜单的图片有点不太统一，这就是我给大家准备的大菜，好不好吃且听我慢慢说来。

主界面上共有三个镜像菜单，分别是“工作”、“游戏”和“开发”，从名称上我们可以看出这代表了这台机器的三个不同用途需要的不同环境。

### 工作

咱们先进入工作环境看看。启动的过程中，咱们聊一下我刚才用了一个不同的词汇叫“环境”，没有再说系统，这是为什么呢？因为，系统很多时候咱们都是默认指操作系统或者一些应用系统，但咱们现在使用计算机的时候，很多时候不是单纯的使用一个单一的系统。比方说，我是一名程序员，我开发UEFI固件程序，这时候我需要使用Visual Studio 2019社区版，测试时我使用Qemu虚拟机来测试，这时候我实际上使用好几个不同的系统来解决不同的工作需求问题。这些不同的系统最终构成了我的UEFI工作环境。这就是使用“环境”这个词的原因。

我的工作环境里面就安装了一个最基本的WPS，这可能是办公室白领最常用的软件了。这是一个非常干净的Windows10系统，WPS应用我就不展示，我们接下来看游戏环境。

### 游戏

在游戏环境里，我装了一个开源版本的红色警戒，听过、玩过红警95的同学应该都是资深的计算机老用户了哈。大家可以看到桌面图标上没有刚才工作环境里面的WPS，只有命令与征服相关的三个游戏图标，这是为什么，咱们留到看完全部环境再讲。我们接下来看开发环境。

### 开发

在开发环境里面，我只装了Visual Studio Code开发工具。大家可以看到这个环境里，没有WPS、没有红警图标，但这个系统的的确确也是Windows10系统。

## 总结

总体上来看，我给大家提供了三个Windows10的系统，在这三个环境里面向工作、游戏和开发提供了不同的工具，而且这三个环境是完全隔离的，也就是完全看不到另外环境里面的内容。

咱们再来看看实际的镜像文件，打开D盘，可以看到和初探里面不同，这里只有一个镜像文件夹，打开文件夹，我们可以看到目录内稍微复杂一下，但从文件名上大家很容易看出来，Game、Work、Code分别对应了游戏、工作、开发三个环境的镜像文件，这三个镜像文件都是在Windows-10-22h2-pro这个基础镜像上分叉出来的，术语叫差分。同样，我们还可以差分一个Home环境出来，或者第二个Work环境，这些环境就是一个非常干净的系统环境，需要的内容可以自己再增加，出现了问题把有问题的环境对应的镜像文件删除掉重新差分一下，就立马有干净环境可用了，再也不需要从装系统零起步，是不是很爽？

当然，什么样的环境作为基础镜像完全取决于用户保留的基础镜像文件，有同学喜欢只有干净的操作系统，有同学喜欢装好了常见及必备的应用软件，这些完全可以仁者见仁智者见智来处理了。

云固件这个工具帮用户将原先的计算机环境从杂乱无章的大开间分隔成了各有用途的隔间，一下子干净整齐、有条不紊了。

这样的差分环境，对于开发、测试的同学尤其有用，不断的安装、升级、卸载软件，经常会在系统里面留下各种各样的垃圾造成各种莫名其妙的错误，耗费无数时间检查才能确定问题原因，最后还不是自己代码的问题，极为恼火！现在只需要简单差分一下，火速再造一个干净环境。

## 结语

是不是又很烧脑？

这时候，又有同学站起来说，我觉得云固件挺有用的，我也想用，而且我不仅要在公司电脑上用，还要在家里电脑上也用，可我干活的环境得是同一个，把虚拟磁盘镜像文件拷贝过来拷贝过去，这也忒太不方便了。嘿嘿，又来挑战我，我还候着呢，下期视频《云固件三探》我们专门来聊聊这个难题。
